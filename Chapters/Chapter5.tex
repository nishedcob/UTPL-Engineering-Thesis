% Chapter 5

\chapter{Pruebas}
\label{capitulo5}

\section{Preparaciones del Ambiente de Pruebas}
El ambiente utilizado para pruebas es el mismo utilizado para el despliegue y se documenta en el capitulo \ref{capitulo6} de Despliegue.

\section{Plan de Pruebas}
La validación del presente trabajo de titulación se lo ha planteado en tres fases:
\begin{enumerate}
  \item Flujos completos de funcionalidad
  \item Pruebas funcionales
  \item Pruebas de integración
\end{enumerate}
Donde se considera que estas mismas pruebas deben ser automatizados en el mayor parte posible con la finalidad de reducir variaciones que puede introducir un operador humano en interacciones distintas de una prueba.

\subsection{Flujos completos de funcionalidad}
Estas pruebas son de alto nivel para revisar funcionalidad desde el punto del usuario en distintos roles de la aplicación y llevar cada uno de esos roles por las distintas fases de su ciclo de vida dentro de la aplicación. Se considera Selenium como buena opción para la automatización de esta fase de pruebas. Aunque por falta de tiempo, no se ha podido implementar las pruebas de forma automatizada, ni en su totalidad, a continuacion se explica la manera en que en teoria deben ser implementados.

\subsubsection{Administrador}
Dentro del ciclo de vida del administrador se debe probar:
\begin{enumerate}
  \item Creación/Lectura/Actualización/Eliminación de API Tokens en los sistemas respectivos que son:
  \begin{itemize}
    \item EduNube.
    \item GitServerHTTPEndpoint.
  \end{itemize}
  \item Registros de plantillas nuevas y actualización de plantillas existentes de virtualización.
  \begin{itemize}
    \item La capacidad de establecer herencia de plantillas con el .repospec.
    \item La capacidad de proteger archivos a través del  .edunubeignore y el .edunubeignore.children.
    \item La capacidad de incluir archivos de forma automática a lo que se extiende una plantilla mediante el mecanismo .templateinclude.
  \end{itemize}
\end{enumerate}

\subsubsection{Profesor}
Dentro del ciclo de vida del profesor se debe probar:
\begin{enumerate}
  \item Extensión de plantillas de virtualización.
  \item Ejecución de plantillas de virtualización.
  \item Validación de las protecciones y herencia dado por los archivos de metadata en cada plantilla.
\end{enumerate}

\subsubsection{Estudiante}
\begin{enumerate}
  \item Autenticación por LTI.
  \item Editar código en línea.
  \item Ejecutar código en línea.
\end{enumerate}

\subsection{Pruebas funcionales}
Estas pruebas son de baja nivel y van directamente contra funcionalidades del código. Se propone llevar las mismas con las pruebas unitarias que llevan Django como marco de desarrollo pero de esta misma forma se requiere que la pruebas no se llevan en más de un sistema a la vez y entonces en algunos casos no se podrá realizar pruebas completas de APIs de integración con otros sistemas, si no para las mismas se podría utilizar clientes que simulan la presencia del sistema consumidor externo o incluso utilizar referencias cruzadas (como enlaces simbólicas de UNIX y submódulos de Git) para probar estas funcionalidades.

\subsubsection{GitEDU}
Para las pruebas de GitEDU, se necesita deshabilitar ciertas funcionalidades de consumo de los dos servicios externos EduNube y GitServerHTTPEndpoint los cuales no se encuentran activos y levantados al momento de ejecutar estas pruebas con la necesidad de que estas pruebas de integración se los extrae a ser ejecutadas directamente con las pruebas unitarias de las respectivas sistemas.

\index{Ejecutar Código}
\subsubsection{EduNube}
Las pruebas de EduNube deben llevar acabo validación de los entornos distintos de virtualización/ejecución de código a trevés del API externa, el cliente estándar que utiliza GitEDU y el manejo adecuado de los API Tokens y .RepoSpec.

\subsubsection{GitServerHTTPEndpoint}
Las pruebas de GitServerHTTPEndpoint deben validar la API externa, manejo de API Tokens, cliente estándar que utiliza GitEDU y distintas operaciones internas de Git que realiza el mismo sistema.

\subsection{Pruebas de Integración}
Como parte de las pruebas unitarias del fase anterior, se debe validar que los mismos clientes que se han probado son los que realmente esta utilizando cada sistema para con ello asegurar el cumplimiento de la integración esperada. En realizar esta fase de esta forma para permitir que se desarrolla al mismo rato de las pruebas unitarias de Django del fase anterior.

\section{Resultados}
De las pruebas aplicadas, detalladas en los Anexos \ref{AnexoF}, \ref{AnexoG} y \ref{AnexoH} respectivamente, la plataforma desarrollada cumple con su especificacion, pero solo por dos motivos:
\begin{enumerate}
	\item Las pruebas aplicadas son incompletas para probar todo las especficaciones originales del sistema.
    \item La correcciones de errores en los servicios fue dirigido en base a las pruebas aplicadas.
\end{enumerate}
